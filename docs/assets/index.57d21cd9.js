import{d as c,u as w,t as k,a as x,p as W,c as D,w as M,i as L,r as C,o as u,b as _,e as d,f as g,g as S,h as p,F as v,j as f,n as b,k as $,l as E,v as O,m as H,q as N,s as V}from"./vendor.c1ca6670.js";const P=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=i(t);fetch(t.href,a)}};P();c.extend(w);c.extend(k);c.extend(x);c.extend(W);c.extend(D);c.extend(M);c.extend(L);c.locale("ru");c.updateLocale("ru",{months:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"]});var T={months:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],daysOfWeek:[{short:"\u041F\u043D",full:"\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A"},{short:"\u0412\u0442",full:"\u0412\u0442\u043E\u0440\u043D\u0438\u043A"},{short:"\u0421\u0440",full:"\u0421\u0440\u0435\u0434\u0430"},{short:"\u0427\u0442",full:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433"},{short:"\u041F\u0442",full:"\u041F\u044F\u0442\u043D\u0438\u0446\u0430"},{short:"\u0421\u0431",full:"\u0421\u0443\u0431\u0431\u043E\u0442\u0430"},{short:"\u0412\u0441",full:"\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435"}]};var y=(e,s)=>{for(const[i,r]of s)e[i]=r;return e};const z={name:"VCalendar",data:()=>({date:c(),constants:T}),computed:{dateMatrix(){const e=this.getWeekDays(this.date.startOf("month")),s=this.getWeekDays(this.date.endOf("month")),i=[];i.push(e);const r=e[6].date,a=(s[0].date-r-1)/7;let n=e[6].instance.add(1,"day");for(let o=1;o<=a;o+=1)i.push(this.getWeekDays(n)),n=n.add(1,"week");return i.push(s),i}},methods:{getWeekDays(e){const{opening:s,trailing:i}=this.getDayWeekShift(e.day()),r=[];for(let t=s;t>0;t-=1){const a=e.subtract(t,"day");r.push(this.getDayConfig(a))}r.push(this.getDayConfig(e));for(let t=1;t<=i;t+=1){const a=e.add(t,"day");r.push(this.getDayConfig(a))}return r},getDayConfig(e){const s=e.day();return{instance:e,date:e.date(),isWeekend:[6,0].includes(s),isPrevMonth:e.month()!==this.date.month(),isWorkDay:this.isWorkDay(e),isToday:e.isToday()}},getDayWeekShift(e){return e?{opening:e-1,trailing:7-e}:{opening:6,trailing:0}},isWorkDay(e){const s=e.diff("1970-01-04","days")%4;return s===1||s===2},changeMonth(e){this.date=this.date.add(e,"month")},swipeHandler(e){!["left","right"].includes(e)||this.changeMonth(e==="left"?1:-1)},resetDate(){this.date=c()}}},A={class:"v-calendar"},B={class:"v-calendar__header"},j=d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[d("path",{d:"M0 0h24v24H0z",fill:"none"}),d("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})],-1),F=[j],R={class:"v-calendar__header-text"},q=d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[d("path",{d:"M0 0h24v24H0z",fill:"none"}),d("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})],-1),G=[q],I={class:"v-calendar__wrap"},K={class:"v-calendar__wrap-header"},U={class:"v-calendar__wrap-header-item-text v-calendar__wrap-header-item-text--mobile"},J={class:"v-calendar__wrap-header-item-text v-calendar__wrap-header-item-text--desktop"};function Q(e,s,i,r,t,a){const n=C("touch");return u(),_("div",A,[d("div",B,[d("button",{class:"v-calendar__header-action",onClick:s[0]||(s[0]=o=>a.changeMonth(-1))},F),g(d("button",R,[S(p(e.date.format("MMMM"))+", "+p(e.date.year()),1)],512),[[n,a.resetDate,"hold"]]),d("button",{class:"v-calendar__header-action v-calendar__header-action--next",onClick:s[1]||(s[1]=o=>a.changeMonth(1))},G)]),g(d("div",I,[d("div",K,[(u(!0),_(v,null,f(e.constants.daysOfWeek,(o,h)=>(u(),_("div",{key:h,class:"v-calendar__wrap-header-item"},[d("div",U,p(o.short),1),d("div",J,p(o.full),1)]))),128))]),(u(!0),_(v,null,f(a.dateMatrix,o=>(u(),_("div",{key:o,class:"v-calendar__week"},[(u(!0),_(v,null,f(o,h=>(u(),_("div",{key:`${o}--${h}`,class:b(["v-calendar__day",{"v-calendar__day--prev-month":h.isPrevMonth,"v-calendar__day--weekend":h.isWeekend,"v-calendar__day--work":h.isWorkDay,"v-calendar__day--today":h.isToday}])},[d("span",null,p(h.date),1)],2))),128))]))),128))],512),[[n,a.swipeHandler,"swipe"]])])}var X=y(z,[["render",Q]]);const Y={name:"App",components:{VCalendar:X}},Z={class:"app"};function ee(e,s,i,r,t,a){const n=$("VCalendar");return u(),_("div",Z,[E(n)])}var te=y(Y,[["render",ee]]);function ae(e={}){const{immediate:s=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:t,onRegisterError:a}=e;let n,o;const h=async(l=!0)=>{l&&(n==null||n.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()})),o&&o.waiting&&await H(o.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){n=new O("/w-calendar/sw.js",{scope:"/w-calendar/"}),n.addEventListener("activated",l=>{l.isUpdate||r==null||r()});{const l=()=>{i==null||i()};n.addEventListener("waiting",l),n.addEventListener("externalwaiting",l)}n.register({immediate:s}).then(l=>{o=l,t==null||t(l)}).catch(l=>{a==null||a(l)})}return h}ae();N(te).use(V).mount("#app");
